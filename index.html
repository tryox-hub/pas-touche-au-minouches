<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pas touche aux Minouches üêæ | Association Protection F√©line Somme (80)</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pocketbase/0.21.3/pocketbase.umd.min.js"></script>

    <style>
        :root {
            --rose-pale: #fdf2f5;
            --rose-accent: #ff8e9d;
            --rose-dark: #ef7a89;
            --rose-bordure: #ffe0e6;
            --texte: #5a4b4e;
        }

        body { font-family: 'Nunito', sans-serif; background-color: white; color: var(--texte); overflow-x: hidden; }
        .site-wrapper { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 15px; }

        .nav-link, .navbar-brand, button, .social-links a { cursor: pointer !important; }
        .navbar-brand img { height: 90px; transition: transform 0.3s; }

        .btn-mignon {
            background-color: var(--rose-accent);
            color: white !important;
            border: none;
            border-radius: 50px;
            padding: 12px 25px;
            font-weight: 900;
            transition: all 0.2s ease;
            box-shadow: 0 4px 0px var(--rose-dark);
            width: 100%;
            text-decoration: none;
            display: inline-block;
        }

        .bento-card {
            background: white;
            border: 2px solid var(--rose-bordure);
            border-radius: 35px;
            padding: 30px;
            height: 100%;
            transition: transform 0.3s;
        }

        .page-section { display: none; padding: 40px 0; }
        .page-section.active { display: block; }
    </style>
</head>

<body>

<div class="site-wrapper">

<nav class="navbar navbar-expand-lg">
    <div class="container-fluid p-0">
        <a class="navbar-brand" onclick="changerPage('accueil')">
            <img src="https://raw.githubusercontent.com/tryox-hub/mon-asso-chats/main/logo.png" alt="Logo">
        </a>

        <div class="collapse navbar-collapse show">
            <ul class="navbar-nav ms-auto fw-bold gap-3 text-center">
                <li class="nav-item"><a class="nav-link" onclick="changerPage('accueil')">Accueil</a></li>
                <li class="nav-item"><a class="nav-link" onclick="changerPage('apropos')">Qui sommes-nous ?</a></li>
                <li class="nav-item"><a class="nav-link" onclick="changerPage('chats')">Nos Chats</a></li>
                <li class="nav-item"><a class="nav-link" onclick="changerPage('contact')">Contact</a></li>
                <li class="nav-item">
                    <a class="nav-link btn-mignon px-3 py-2 text-white" onclick="changerPage('donations')">Faire un don ‚ù§Ô∏è</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- DONATIONS -->
<section id="donations" class="page-section">
    <div class="text-center mb-5">
        <h2 style="color:var(--rose-accent)">Soutenez nos actions üíù</h2>
    </div>

    <div class="row g-4">
        <div class="col-md-6">
            <div class="bento-card text-center">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/HelloAsso_Logo.svg/1200px-HelloAsso_Logo.svg.png" height="40" class="mb-3">
                <h4>Don HelloAsso</h4>
                <a href="TON_LIEN_HELLOASSO" target="_blank" class="btn-mignon">Donner s√©curis√©</a>
            </div>
        </div>

        <!-- TEAMING -->
        <div class="col-md-6">
            <div class="bento-card text-center">
                <i class="fas fa-users fa-3x mb-3"></i>
                <h4>Teaming</h4>
                <p class="small text-muted">1‚Ç¨ par mois pour sauver des vies üêæ</p>
                <a href="TON_LIEN_TEAMING" target="_blank" class="btn-mignon" style="background:#5a4b4e">
                    Rejoindre Teaming
                </a>
            </div>
        </div>
    </div>
</section>

<!-- CHATS -->
<section id="chats" class="page-section">
    <h2 class="text-center mb-5" style="color:var(--rose-accent)">Nos prot√©g√©s üê±</h2>

    <h3 class="mb-4" style="color:var(--rose-dark)">Chats adultes</h3>
    <div id="liste-chats-adultes" class="row g-4 mb-5"></div>

    <h3 class="mb-4" style="color:var(--rose-dark)">Chatons</h3>
    <div id="liste-chatons" class="row g-4"></div>
</section>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
const pb = new PocketBase('/');

function changerPage(pageId) {
    document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
    window.scrollTo(0,0);
}

async function chargerAnimaux() {
    const records = await pb.collection('chats').getFullList({ sort: '-created' });

    const adultes = document.getElementById('liste-chats-adultes');
    const chatons = document.getElementById('liste-chatons');

    adultes.innerHTML = '';
    chatons.innerHTML = '';

    records.forEach(chat => {
        const photo = chat.photos ? pb.files.getUrl(chat, chat.photos) : 'https://via.placeholder.com/300';

        const card = `
        <div class="col-md-4">
            <div class="bento-card text-center">
                <img src="${photo}" style="width:100%; height:200px; object-fit:cover; border-radius:20px" class="mb-3">
                <h4>${chat.nom}</h4>
                <button class="btn-mignon mt-2"
                  onclick="window.location.href='mailto:pastoucheauxminouches@gmail.com?subject=Adoption ${chat.nom}'">
                  M'adopter ‚ù§Ô∏è
                </button>
            </div>
        </div>`;

        if (chat.categorie === 'chaton') {
            chatons.innerHTML += card;
        } else {
            adultes.innerHTML += card;
        }
    });
}

chargerAnimaux();
</script>

</body>
</html>
