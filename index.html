<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pas touche aux Minouches üêæ</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pocketbase/0.21.3/pocketbase.umd.min.js"></script>
    
    <style>
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: #ffffff; 
            color: #2d3436;
        }

        /* --- HEADER & LOGO --- */
        .header-logo {
            text-align: center;
            padding: 40px 0;
        }
        .header-logo img {
            max-width: 250px;
            height: auto;
        }

        /* --- NAVIGATION --- */
        .nav-custom {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 50px;
        }
        .nav-custom a {
            text-decoration: none;
            color: #636e72;
            font-weight: 600;
            transition: 0.3s;
        }
        .nav-custom a:hover { color: #d63384; }

        /* --- SECTIONS STYLE GOOGLE --- */
        .section-container {
            padding: 60px 0;
        }
        .feature-img {
            width: 100%;
            border-radius: 24px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.05);
        }
        .content-block {
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 100%;
        }
        h2 { font-weight: 800; font-size: 2.5rem; margin-bottom: 20px; }
        .text-muted-custom { color: #636e72; line-height: 1.8; margin-bottom: 30px; }

        /* --- BOUTONS --- */
        .btn-outline-custom {
            border: 2px solid #dfe6e9;
            border-radius: 50px;
            padding: 10px 35px;
            color: #2d3436;
            font-weight: 600;
            width: fit-content;
            transition: 0.3s;
        }
        .btn-outline-custom:hover { background: #f1f2f6; border-color: #b2bec3; }

        .btn-pink {
            background-color: #d63384;
            color: white;
            border-radius: 50px;
            padding: 12px 35px;
            font-weight: 600;
            border: none;
            transition: 0.3s;
        }
        .btn-pink:hover { background-color: #bc2b73; transform: scale(1.05); }

        /* --- CARTES CHATS --- */
        .chat-card {
            border: none;
            border-radius: 24px;
            overflow: hidden;
            background: #fff;
            transition: 0.4s;
            margin-bottom: 30px;
        }
        .chat-img { height: 300px; object-fit: cover; width: 100%; }

        .page-section { display: none; }
        .page-section.active { display: block; animation: fadeIn 0.6s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div class="header-logo">
        <img src="logo.png" alt="Pas touche aux Minouches">
    </div>

    <div class="nav-custom">
        <a href="#" onclick="changerPage('accueil')">Accueil</a>
        <a href="#" onclick="changerPage('chats')">Nos Chats</a>
        <a href="#" onclick="changerPage('chatons')">Nos Chatons</a>
        <a href="#" onclick="changerPage('contact')">Contact</a>
    </div>

    <section id="accueil" class="page-section active">
        <div class="container">
            <div class="row section-container">
                <div class="col-md-6 content-block">
                    <h2>Sauvons ensemble les minouches</h2>
                    <p class="text-muted-custom">Nous sommes une association d√©di√©e √† sauver les chats de la rue et de l'abandon, rassemblant des coeurs autour d'une noble cause.</p>
                    <a href="#" onclick="changerPage('chats')" class="btn btn-outline-custom">Rejoindre</a>
                </div>
                <div class="col-md-6">
                    <img src="https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?auto=format&fit=crop&w=800&q=80" class="feature-img" alt="Chat">
                </div>
            </div>

            <div class="row section-container flex-md-row-reverse">
                <div class="col-md-6 content-block">
                    <h2>Notre mission</h2>
                    <p class="text-muted-custom">St√©riliser, soigner et trouver des foyers aimants. Lutter contre l'abandon et sensibiliser le public.</p>
                    <button class="btn btn-pink" onclick="changerPage('chats')">Nos prot√©g√©s</button>
                </div>
                <div class="col-md-6">
                    <img src="https://images.unsplash.com/photo-1573865526739-10659fec78a5?auto=format&fit=crop&w=800&q=80" class="feature-img" alt="Mission">
                </div>
            </div>

            <div class="text-center py-5">
                <h3>Adoptez, ne l√¢chez jamais.</h3>
                <button class="btn btn-pink mt-3" onclick="changerPage('chats')">D√©couvrir les chats</button>
            </div>
        </div>
    </section>

    <section id="chats" class="page-section">
        <div class="container py-5">
            <h2 class="text-center mb-5">Nos Chats Adultes</h2>
            <div id="liste-adultes" class="row row-cols-1 row-cols-md-3 g-4"></div>
        </div>
    </section>

    <section id="chatons" class="page-section">
        <div class="container py-5">
            <h2 class="text-center mb-5">Nos Petits Chatons</h2>
            <div id="liste-chatons" class="row row-cols-1 row-cols-md-3 g-4"></div>
        </div>
    </section>

    <section id="contact" class="page-section">
        <div class="container py-5 text-center">
            <div class="col-md-6 mx-auto bg-light p-5 rounded-4">
                <h2>Contactez-nous</h2>
                <p>pastoucheauxminouches@gmail.com</p>
                <a href="mailto:pastoucheauxminouches@gmail.com" class="btn btn-pink">Envoyer un message</a>
            </div>
        </div>
    </section>

    <script>
        const pb = new PocketBase('/');

        function changerPage(pageId) {
            document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            window.scrollTo(0,0);
        }

        async function chargerAnimaux() {
            try {
                const records = await pb.collection('chats').getFullList({ sort: '-created' });
                const contAdultes = document.getElementById('liste-adultes');
                const contChatons = document.getElementById('liste-chatons');

                contAdultes.innerHTML = ''; contChatons.innerHTML = '';

                records.forEach(chat => {
                    const photoUrl = chat.photos ? pb.files.getUrl(chat, chat.photos) : '';
                    const html = `
                        <div class="col">
                            <div class="chat-card shadow-sm h-100">
                                <img src="${photoUrl}" class="chat-img">
                                <div class="p-4 text-center">
                                    <h4 class="fw-bold">${chat.nom}</h4>
                                    <p class="text-muted">${chat.age}</p>
                                    <a href="mailto:pastoucheauxminouches@gmail.com" class="btn btn-outline-custom w-100">M'adopter</a>
                                </div>
                            </div>
                        </div>`;
                    if (chat.est_chaton) contChatons.innerHTML += html;
                    else contAdultes.innerHTML += html;
                });
            } catch (err) { console.error(err); }
        }
        chargerAnimaux();
    </script>
</body>
</html>
