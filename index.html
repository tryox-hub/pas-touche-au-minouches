<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pas touche aux Minouches üêæ</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pocketbase/0.21.3/pocketbase.umd.min.js"></script>
    
    <style>
        :root { 
            --rose-fond: #fff5f7; 
            --rose-accent: #ffb7c5; 
            --rose-bouton: #ff7e9d;
            --texte: #5a4a4d;
        }

        body { 
            font-family: 'Nunito', sans-serif; 
            background-color: #ffffff; 
            color: var(--texte);
            padding: 20px;
        }

        /* --- CADRE GLOBAL STYLE DA --- */
        .page-container {
            max-width: 1100px;
            margin: 0 auto;
            border: 15px solid var(--rose-accent); /* La grosse bordure rose de l'image */
            border-radius: 80px;
            background-color: white;
            padding-bottom: 40px;
            overflow: hidden;
        }

        /* --- HEADER --- */
        header { text-align: center; padding: 40px 20px; }
        header img { max-height: 120px; margin-bottom: 20px; }
        
        .custom-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }
        .nav-item-custom {
            cursor: pointer;
            font-weight: 800;
            padding: 8px 15px;
            border-radius: 20px;
            transition: 0.3s;
            color: var(--texte);
            text-decoration: none;
        }
        .nav-item-custom:hover { background: var(--rose-fond); color: var(--rose-bouton); }

        /* --- CARTES BENTO --- */
        .bento-card {
            background: white;
            border: 4px solid var(--rose-fond);
            border-radius: 45px;
            padding: 25px;
            height: 100%;
            transition: 0.3s;
            box-shadow: 0 10px 0px var(--rose-fond); /* Ombre plate style illustration */
        }

        .btn-mignon {
            background-color: var(--rose-bouton);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 10px 25px;
            font-weight: 900;
            font-size: 0.9rem;
            box-shadow: 0 4px 0px #e06683;
            transition: 0.2s;
        }
        .btn-mignon:active { transform: translateY(4px); box-shadow: none; }

        /* --- AFFICHAGE CHATS --- */
        .chat-img {
            width: 100%;
            height: 220px;
            object-fit: cover;
            border-radius: 35px;
            margin-bottom: 15px;
            border: 3px solid var(--rose-fond);
        }

        /* --- SECTIONS --- */
        .page-section { display: none; padding: 0 30px; }
        .page-section.active { display: block; animation: softFade 0.5s; }

        @keyframes softFade { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) {
            .page-container { border-width: 8px; border-radius: 40px; }
            h2 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>

<div class="page-container">
    <header>
        <img src="https://raw.githubusercontent.com/tryox-hub/mon-asso-chats/main/logo.png" alt="Logo">
        <div class="custom-nav">
            <span class="nav-item-custom" onclick="changerPage('accueil')">Accueil</span>
            <span class="nav-item-custom" onclick="changerPage('chats')">Nos Chats</span>
            <span class="nav-item-custom" onclick="changerPage('contact')">Contact</span>
            <span class="nav-item-custom" onclick="changerPage('don')">Faire un Don</span>
        </div>
    </header>

    <section id="accueil" class="page-section active">
        <div class="row g-4">
            <div class="col-md-7">
                <div class="bento-card d-flex align-items-center">
                    <div>
                        <h2 class="fw-black">Adoptez le bonheur, sauve de vie !</h2>
                        <p>Trouvez le compagnon qui changera votre quotidien.</p>
                        <button class="btn-mignon" onclick="changerPage('chats')">Voir les chats üêæ</button>
                    </div>
                </div>
            </div>
            <div class="col-md-5">
                <div class="bento-card text-center">
                    <h3 class="fw-bold">Nos Chats üê±</h3>
                    <p class="small">D√©couvrez tous nos minouches en attente d'une famille.</p>
                    <button class="btn-mignon" onclick="changerPage('chats')">Explorer</button>
                </div>
            </div>
            <div class="col-md-4">
                <div class="bento-card">
                    <h4 class="fw-bold">Notre Mission</h4>
                    <p class="small">Sauver, soigner et prot√©ger les chats de la rue.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="bento-card">
                    <h4 class="fw-bold">Nos Valeurs</h4>
                    <p class="small">Respect, amour et bienveillance animale.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="bento-card">
                    <h4 class="fw-bold">Chatons</h4>
                    <p class="small">Nos petits derniers cherchent aussi un foyer.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="chats" class="page-section">
        <h2 class="text-center mb-5 fw-black">Nos prot√©g√©s</h2>
        <div id="grille-chats" class="row g-4"></div>
    </section>

    <section id="contact" class="page-section">
        <div class="bento-card text-center py-5">
            <h2 class="fw-black">Prendre contact üíå</h2>
            <p class="fs-5">pastoucheauxminouches@gmail.com</p>
            <a href="mailto:pastoucheauxminouches@gmail.com" class="btn-mignon text-decoration-none">Nous √©crire</a>
        </div>
    </section>

    <section id="don" class="page-section text-center">
        <div class="bento-card">
            <h2 class="fw-black">Aider l'association üíñ</h2>
            <p>Vos dons permettent de financer les soins v√©t√©rinaires.</p>
            <button class="btn-mignon">Acc√©der √† la cagnotte</button>
        </div>
    </section>
</div>

<footer class="text-center mt-4">
    <p class="small text-muted">¬© 2026 Pas touche aux Minouches | <span onclick="changerPage('accueil')" style="cursor:pointer">Mentions l√©gales</span></p>
</footer>

<script>
    const pb = new PocketBase('/');

    function changerPage(pageId) {
        document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        window.scrollTo(0,0);
    }

    async function chargerAnimaux() {
        try {
            const records = await pb.collection('chats').getFullList({ sort: '-created' });
            const container = document.getElementById('grille-chats');
            container.innerHTML = '';

            records.forEach(chat => {
                const photoUrl = chat.photos ? pb.files.getUrl(chat, chat.photos) : 'https://via.placeholder.com/300';
                const ageText = chat.age + (isNaN(chat.age) ? "" : " ans");
                
                container.innerHTML += `
                    <div class="col-md-4">
                        <div class="bento-card">
                            <img src="${photoUrl}" class="chat-img">
                            <h3 class="fw-bold h5 mb-1">${chat.nom}</h3>
                            <span class="badge mb-2" style="background:var(--rose-fond); color:var(--rose-bouton)">${ageText}</span>
                            <p class="small text-muted mb-3">${chat.description || ''}</p>
                            <button class="btn-mignon w-100" onclick="window.location.href='mailto:pastoucheauxminouches@gmail.com'">M'adopter ‚ù§Ô∏è</button>
                        </div>
                    </div>`;
            });
        } catch (err) { console.error(err); }
    }
    chargerAnimaux();
</script>
</body>
</html>
